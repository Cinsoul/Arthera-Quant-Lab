<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I18n Test</title>
    <style>
        body { 
            font-family: monospace; 
            background: black; 
            color: white; 
            padding: 20px; 
        }
        .test-section { 
            margin: 20px 0; 
            padding: 10px; 
            border: 1px solid white; 
        }
        button { 
            background: black; 
            color: white; 
            border: 1px solid white; 
            padding: 5px 10px; 
            margin: 5px; 
        }
        button:hover { 
            background: white; 
            color: black; 
        }
    </style>
</head>
<body>
    <h1>国际化功能测试 / Internationalization Test</h1>
    
    <div class="test-section">
        <h3>语言切换 / Language Switch</h3>
        <button onclick="window.switchLanguage('zh')">中文</button>
        <button onclick="window.switchLanguage('en')">English</button>
        <p>当前语言 / Current Language: <span id="current-lang">zh</span></p>
    </div>

    <div class="test-section">
        <h3>服务配置相关文字 / Service Configuration Text</h3>
        <div data-i18n="services-health">SERVICES HEALTH</div>
        <div data-i18n="check-all">CHECK ALL</div>
        <div data-i18n="data-sources">DATA SOURCES</div>
        <div data-i18n="trading-platforms">TRADING PLATFORMS</div>
        <div data-i18n="test-connection">TEST CONNECTION</div>
        <div data-i18n="configure">CONFIGURE</div>
    </div>

    <div class="test-section">
        <h3>状态文字 / Status Text</h3>
        <div>连接状态: <span id="test-connected">--</span></div>
        <div>错误状态: <span id="test-error">--</span></div>
        <div>在线状态: <span id="test-online">--</span></div>
        <div>离线状态: <span id="test-offline">--</span></div>
        <button onclick="testStatus()">测试状态文字</button>
    </div>

    <div class="test-section">
        <h3>系统配置文字 / System Configuration Text</h3>
        <div data-i18n="refresh-interval">REFRESH INTERVAL</div>
        <div data-i18n="auto-refresh">AUTO REFRESH</div>
        <div data-i18n="display-settings">DISPLAY SETTINGS</div>
        <div data-i18n="time-format">TIME FORMAT</div>
    </div>

    <script>
        // 翻译对象
        const translations = {
            zh: {
                'services-health': '服务健康状况',
                'check-all': '检查全部',
                'data-sources': '数据源',
                'trading-platforms': '交易平台',
                'test-connection': '测试连接',
                'configure': '配置',
                'connected': '连接成功',
                'error': '错误',
                'online': '在线',
                'offline': '离线',
                'refresh-interval': '刷新间隔',
                'auto-refresh': '自动刷新',
                'display-settings': '显示设置',
                'time-format': '时间格式'
            },
            en: {
                'services-health': 'SERVICES HEALTH',
                'check-all': 'CHECK ALL',
                'data-sources': 'DATA SOURCES',
                'trading-platforms': 'TRADING PLATFORMS',
                'test-connection': 'TEST CONNECTION',
                'configure': 'CONFIGURE',
                'connected': 'CONNECTED',
                'error': 'ERROR',
                'online': 'ONLINE',
                'offline': 'OFFLINE',
                'refresh-interval': 'REFRESH INTERVAL',
                'auto-refresh': 'AUTO REFRESH',
                'display-settings': 'DISPLAY SETTINGS',
                'time-format': 'TIME FORMAT'
            }
        };

        // 当前语言
        window.currentLanguage = 'zh';

        // 翻译函数
        window.t = function(key) {
            return translations[window.currentLanguage][key] || key;
        };

        // 语言切换函数
        window.switchLanguage = function(lang) {
            window.currentLanguage = lang;
            document.getElementById('current-lang').textContent = lang;
            updateAllText();
        };

        // 更新所有文本
        function updateAllText() {
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                const translation = window.t(key);
                if (translation && translation !== key) {
                    element.textContent = translation;
                }
            });
        }

        // 测试状态文字
        function testStatus() {
            document.getElementById('test-connected').textContent = window.t('connected');
            document.getElementById('test-error').textContent = window.t('error');
            document.getElementById('test-online').textContent = window.t('online');
            document.getElementById('test-offline').textContent = window.t('offline');
        }

        // 初始化
        updateAllText();
        testStatus();
    </script>
</body>
</html>