# Bloomberg级画线工具 - 用户使用指南

## 🎯 快速开始

### 访问画线工具

**方法1: 通过图表工作台**
```
Dashboard → Chart View → 点击全屏按钮 → 进入Bloomberg级图表
```

**方法2: 通过演示页面**
```
主菜单 → Chart Drawing Demo
```

---

## 🖱️ 基础操作

### 1. 绘制趋势线

1. 点击 `TREND` 按钮或按 `T` 键
2. 在图表上点击起点
3. 拖动鼠标到终点后释放
4. 趋势线绘制完成

**快捷键**: `T`

### 2. 绘制水平线

1. 点击 `HLINE` 按钮或按 `H` 键  
2. 在图表上点击任意位置
3. 水平线自动横跨整个图表

**用途**: 标记支撑位/阻力位

**快捷键**: `H`

### 3. 绘制斐波那契回撤

1. 点击 `FIB` 按钮或按 `F` 键
2. 点击波段起点
3. 拖动到波段终点后释放
4. 自动显示7条斐波那契水平线:
   - 0.0% (起点)
   - 23.6% (第一阻力)
   - 38.2% (强阻力)
   - 50.0% (中位线)
   - 61.8% (黄金分割)
   - 78.6% (深度回撤)
   - 100.0% (终点)

**快捷键**: `F`

### 4. 绘制矩形框选

1. 点击 `RECT` 按钮或按 `B` 键
2. 点击起点位置
3. 拖动到对角位置后释放
4. 矩形绘制完成

**用途**: 标记价格区间和时间范围

**快捷键**: `B`

### 5. 绘制箭头标注

1. 点击 `ARROW` 按钮或按 `A` 键
2. 点击箭头起点
3. 拖动到箭头终点后释放
4. 箭头自动显示方向

**用途**: 标记趋势方向或关键点位

**快捷键**: `A`

### 6. 添加文本标注

1. 点击 `TEXT` 按钮或按 `X` 键
2. 在图表上点击位置
3. 双击打开文本输入框
4. 输入文字后确认

**快捷键**: `X`

### 7. 绘制射线

1. 点击 `RAY` 按钮或按 `R` 键
2. 点击射线起点
3. 拖动确定方向后释放
4. 射线自动延伸到无限远

**用途**: 标记长期趋势

**快捷键**: `R`

---

## ✏️ 编辑和移动

### 选择图形

1. 点击 `SELECT` 按钮或按 `ESC` 键切换到选择模式
2. 点击图形即可选中
3. 选中的图形会显示蓝色发光边框

**快捷键**: `ESC`

### 移动图形

1. 确保处于选择模式 (SELECT)
2. 点击并拖动图形
3. 释放鼠标完成移动

### 删除图形

**方法1**: 选中图形后按 `Delete` 或 `Backspace`  
**方法2**: 在绘图列表中点击 `[DEL]` 按钮  
**方法3**: 点击工具栏的 `CLEAR` 按钮清除所有

---

## 🎨 样式配置

### 颜色选择

工具栏提供8种专业配色:

- **CYN** (青色 #0EA5E9) - 默认颜色
- **RED** (红色 #EF4444) - 阻力位
- **GRN** (绿色 #10B981) - 支撑位
- **YEL** (黄色 #F59E0B) - 警示
- **PUR** (紫色 #8B5CF6) - 特殊标记
- **ORG** (橙色 #F97316) - 关注点
- **WHT** (白色 #F1F5F9) - 中性
- **GRY** (灰色 #6B7280) - 次要

**操作**: 点击颜色按钮选择，后续绘图自动应用该颜色

### 线宽调整

使用滑块控制线条粗细:
- **最细**: 1px (精细线条)
- **标准**: 2px (默认)
- **粗线**: 5px (强调重要图形)

**操作**: 拖动滑块到目标位置

### 线型样式

提供3种线型:
- **SOLID** (实线) - 默认样式
- **DASH** (虚线) - 预测性线条
- **DOT** (点线) - 辅助线条

**操作**: 点击对应按钮切换样式

---

## ⏮️ 撤销和重做

### 撤销操作

**方法1**: 点击工具栏 `UNDO` 按钮  
**方法2**: 按 `Ctrl+Z` (Windows) 或 `Cmd+Z` (Mac)

**特性**: 支持最多50层历史记录

### 重做操作

**方法1**: 点击工具栏 `REDO` 按钮  
**方法2**: 按 `Ctrl+Y` (Windows) 或 `Cmd+Shift+Z` (Mac)

---

## 💾 保存和加载

### 保存绘图

1. 点击工具栏 `SAVE` 按钮
2. 系统自动生成JSON文件
3. 文件名格式: `chart-drawings-[股票代码]-[时间戳].json`
4. 保存到本地下载文件夹

**文件内容**:
```json
{
  "version": "1.0",
  "timestamp": 1733756400000,
  "drawings": [
    {
      "id": "...",
      "type": "trendline",
      "points": [...],
      "style": {...}
    }
  ]
}
```

### 加载绘图

1. 点击工具栏 `LOAD` 按钮
2. 选择之前保存的JSON文件
3. 系统自动恢复所有绘图

**注意**: 
- 加载会覆盖当前所有绘图
- 建议先保存当前工作再加载

### 自动保存

系统自动将绘图保存到浏览器本地存储 (localStorage)，下次访问自动恢复。

---

## ⌨️ 完整快捷键列表

### 工具选择

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `ESC` | 选择工具 | 移动和编辑图形 |
| `T` | 趋势线 | 两点连线 |
| `H` | 水平线 | 支撑/阻力位 |
| `R` | 射线 | 延伸到无限远 |
| `B` | 矩形 | 框选区域 |
| `F` | 斐波那契 | 7个标准水平线 |
| `A` | 箭头 | 方向标注 |
| `X` | 文本 | 文字说明 (双击输入) |

### 操作快捷键

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `Ctrl+Z` / `Cmd+Z` | 撤销 | 最多50层 |
| `Ctrl+Y` / `Cmd+Shift+Z` | 重做 | 恢复撤销的操作 |
| `Delete` / `Backspace` | 删除 | 删除选中图形 |
| `Ctrl+S` / `Cmd+S` | 保存 | 导出JSON文件 |

### 全局快捷键

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| `ESC` | 退出全屏 | 返回Dashboard |

---

## 📊 实用场景

### 场景1: 趋势分析

**目标**: 标记上升趋势和支撑位

1. 按 `T` 绘制上升趋势线
   - 连接两个低点
2. 按 `H` 添加支撑位水平线
   - 点击近期低点
3. 选择 `GRN` (绿色) 作为支撑位颜色
4. 选择 `RED` (红色) 标记阻力位

**结果**: 清晰的趋势通道

### 场景2: 波段回撤分析

**目标**: 使用斐波那契找买入点

1. 按 `F` 进入斐波那契模式
2. 点击波段起点 (低点)
3. 拖动到波段终点 (高点)
4. 观察关键回撤位:
   - 38.2% - 浅度回撤
   - 50.0% - 中度回撤
   - 61.8% - 深度回撤 (黄金买点)

**结果**: 精确的买入区间

### 场景3: 盘整区间标记

**目标**: 框选横盘整理区域

1. 按 `B` 进入矩形模式
2. 点击区间左上角
3. 拖动到右下角
4. 选择 `YEL` (黄色) 标记观察区
5. 添加文本说明 (按 `X`)
   - "等待突破方向"

**结果**: 明确的交易策略

### 场景4: 关键点位标注

**目标**: 标记重要买卖点

1. 按 `A` 绘制箭头
   - 上箭头标记买入点 (绿色)
   - 下箭头标记卖出点 (红色)
2. 按 `X` 添加文字
   - "主力建仓"
   - "放量突破"
3. 按 `H` 添加目标价位线

**结果**: 完整的交易日志

---

## 🎯 专业技巧

### 技巧1: 多时间框架分析

1. 在日线图绘制主趋势线
2. 保存绘图 (SAVE)
3. 切换到60分钟图
4. 绘制短期交易信号
5. 切换回日线对比分析

### 技巧2: 图形叠加

1. 绘制趋势线 (黄色)
2. 绘制平行通道 (使用两条趋势线)
3. 添加斐波那契扩展
4. 标注关键点位 (箭头+文本)

**结果**: 专业级技术分析图

### 技巧3: 快速复制样式

1. 选择已有图形
2. 观察其颜色和线宽
3. 在工具栏调整到相同样式
4. 绘制新图形自动应用

### 技巧4: 历史回顾

1. 使用撤销 (Ctrl+Z) 逐步回退
2. 观察每一步的分析逻辑
3. 发现错误判断
4. 使用重做 (Ctrl+Y) 恢复正确的

**用途**: 复盘和学习

---

## ⚠️ 注意事项

### 绘图精度

- **建议**: 放大图表后绘制更精确
- **技巧**: 使用网格线对齐关键价位
- **避免**: 在缩小状态下绘制细节

### 性能考虑

- **推荐**: 每个图表不超过20个绘图对象
- **清理**: 定期删除无用的历史绘图
- **保存**: 重要分析保存为JSON文件

### 数据兼容性

- **格式**: 只支持JSON格式导入/导出
- **版本**: 确保使用相同版本的系统
- **备份**: 重要绘图多处备份

### 浏览器支持

- ✅ **推荐**: Chrome, Edge (最佳性能)
- ✅ **支持**: Firefox, Safari
- ⚠️ **限制**: IE不支持

---

## 🆘 常见问题

### Q1: 绘图工具无法使用？

**A**: 
1. 检查是否点击了对应工具按钮
2. 确认鼠标在图表区域内
3. 刷新页面重试

### Q2: 撤销按钮是灰色的？

**A**: 
- 当前没有可撤销的操作
- 最多支持50层历史，超出后自动清除

### Q3: 绘图保存后找不到？

**A**: 
- 检查浏览器下载文件夹
- 文件名格式: `chart-drawings-[股票代码]-[时间戳].json`
- 也会自动保存到localStorage

### Q4: 如何删除所有绘图？

**A**: 
- 点击工具栏 `CLEAR` 按钮
- 确认对话框后清空

### Q5: 切换股票后绘图消失？

**A**: 
- 绘图与股票代码关联
- 切换回原股票会自动恢复
- 或使用LOAD功能导入

---

## 📚 学习资源

### 斐波那契回撤理论

**关键水平线**:
- **23.6%**: 浅度回撤，强势趋势
- **38.2%**: 常见回撤位，第一买点
- **50.0%**: 心理关口，中度回撤
- **61.8%**: 黄金分割，最佳买点
- **78.6%**: 深度回撤，趋势反转信号

### 趋势线绘制原则

**上升趋势线**:
- 连接两个或更多低点
- 线条向右上倾斜
- 突破表示趋势反转

**下降趋势线**:
- 连接两个或更多高点
- 线条向右下倾斜
- 突破表示趋势反转

### 支撑阻力位

**支撑位 (绿色水平线)**:
- 价格下跌到此处获得支撑
- 多次触及未跌破
- 突破后转为阻力

**阻力位 (红色水平线)**:
- 价格上涨到此处受阻
- 多次触及未突破
- 突破后转为支撑

---

## 🎓 进阶使用

### 高级组合分析

**趋势线 + 斐波那契**:
```
1. 绘制主趋势线
2. 在回撤波段使用斐波那契
3. 观察61.8%是否在趋势线附近
4. 两者重合为强支撑/阻力
```

**矩形 + 文本 + 箭头**:
```
1. 用矩形框选盘整区域
2. 添加文本说明形态
3. 用箭头标记突破方向预测
4. 形成完整交易计划
```

### 自定义工作流

**每日例行分析**:
```
1. 打开目标股票图表
2. 按 H 标记前一日收盘价
3. 按 T 绘制当日趋势
4. 按 X 添加观察备注
5. 保存为 daily-analysis.json
```

**周度复盘**:
```
1. 加载上周分析文件
2. 对比实际走势
3. 用不同颜色标记验证结果
4. 总结经验教训
5. 保存为 weekly-review.json
```

---

## ✨ 最佳实践

### DO ✅

- ✅ 使用快捷键提高效率
- ✅ 绘图后添加文字说明
- ✅ 定期保存重要分析
- ✅ 使用颜色编码区分类型
- ✅ 删除过时的绘图
- ✅ 放大图表获得精确度

### DON'T ❌

- ❌ 在一张图上绘制过多对象
- ❌ 忘记保存重要分析
- ❌ 所有绘图用同一颜色
- ❌ 绘制后不添加说明
- ❌ 长期不清理历史绘图
- ❌ 在缩小状态绘制细节

---

## 📞 技术支持

**问题反馈**: 
- 在系统内点击帮助按钮
- 或访问文档中心

**功能建议**:
- 通过反馈渠道提交
- 参与用户调研

**版本更新**:
- 定期检查更新提示
- 阅读版本发布说明

---

**版本**: 1.0  
**更新时间**: 2024-12-09  
**适用系统**: Arthera Quant Terminal - Phase 2  
**TradingView相似度**: 60%

---

*祝您投资顺利！*
